<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Publications - Ocean Dynamics from Space</title>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans&family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <style>
        .publication-item {
            margin-bottom: 1.5em;
            padding: 0.5em 0;
        }
        
        .publication-title {
            color: #0066cc;
            text-decoration: none;
            font-weight: bold;
        }
        
        .publication-title:hover {
            text-decoration: underline;
        }
        
        .abstract-toggle {
            color: #0066cc;
            cursor: pointer;
            font-size: 0.9em;
            margin-left: 10px;
            text-decoration: none;
            user-select: none;
        }
        
        .abstract-toggle:hover {
            text-decoration: underline;
        }
        
        .abstract-content {
            display: none;
            margin-top: 0.5em;
            padding: 1em;
            background-color: #f5f5f5;
            border-left: 3px solid #0066cc;
            font-size: 0.95em;
            line-height: 1.6;
        }
        
        .abstract-content.show {
            display: block;
        }
        
        .external-link-icon {
            font-size: 0.8em;
            margin-left: 3px;
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <div class="logo">
                <img src="assets/logo.png" alt="Ocean Dynamics Logo">
            </div>
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">Team</a></li>
                <li><a href="research.html">Research</a></li>
                <li><a href="publications.html">Publications</a></li>
                <li><a href="data-tools.html">Data & Tools</a></li>
                <li><a href="news.html">News</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </nav>
    </header>
    <section class="publications">
        <h1>Publications</h1>
        <p>
            <a href="https://scholar.google.com/citations?hl=en&user=97cDSCsAAAAJ" class="google-scholar" target="_blank" rel="noopener noreferrer">Google Scholar Profile</a> | 
            <a href="https://www.researchgate.net/profile/Jinbo-Wang-2" class="research-gate" target="_blank" rel="noopener noreferrer">ResearchGate Profile</a>
        </p>
        
        <div id="loading">Loading publications...</div>
        <div id="error-message" style="display: none; color: red;"></div>
        
        <div id="publications-content" style="display: none;">
            <h2>Submitted Papers</h2>
            <ul id="submitted-papers-list" class="publication-list"></ul>
            <br>
            <h2>Published Papers</h2>
            <br>
            <div class="sort-controls">
                <div class="filter-control">
                    <label for="filter-by-tag">Filter by Tag:</label>
                    <select id="filter-by-tag" onchange="updatePublications()">
                        <option value="">All Tags</option>
                    </select>
                    
                    <label for="filter-by-year">Filter by Year:</label>
                    <select id="filter-by-year" onchange="updatePublications()">
                        <option value="">All Years</option>
                    </select>
                    
                    <label for="sort-by">Sort by:</label>
                    <select id="sort-by" onchange="updatePublications()">
                        <option value="year-desc">Year (Newest First)</option>
                        <option value="year-asc">Year (Oldest First)</option>
                        <option value="tags">Tags</option>
                    </select>
                </div>
            </div>
            <ul id="publication-list" class="publication-list"></ul>
        </div>
    </section>
    <footer>
        <p>¬© 2025 Ocean Dynamics from Space Lab. All rights reserved.</p>
        <div class="social-links">
            <a href="https://x.com/jinbowang" target="_blank" rel="noopener noreferrer" class="social-icon">
                <img src="https://img.icons8.com/ios-filled/30/ffffff/twitterx.png" alt="X">
            </a>
            <a href="https://www.linkedin.com/in/jinbo-wang-b5138521/" target="_blank" rel="noopener noreferrer" class="social-icon">
                <img src="https://img.icons8.com/ios-filled/30/ffffff/linkedin.png" alt="LinkedIn">
            </a>
        </div>
    </footer>
    <script src="js/script.js"></script>
    <script src="js/bibtex-parser.js"></script>
    <script>
        // Submitted papers data
        const submittedPapers = [
            { title: "A post-launch assessment of the noise level of the Ka-band Radar Interferometer from SWOT",
              year: 2026,
              authors: "Huang, Minghai, Wang, Jinbo",
              journal: "Earth and Space Science", 
              abstract: "Quantifying the noise level of SWOT‚Äôs Ka-band Radar Interferometer (KaRIn) is essential for interpreting submesoscale (‚â§100 km) ocean variability from the mission‚Äôs two-dimensional swath measurements. Using 21 months (cycles 001‚Äì032; July 2023‚ÄìApril 2025) of the Level-2 KaRIn Low-Rate Unsmoothed sea surface height product (250 m posting), we estimate sea surface height anomaly (SSHA) error from the noise floor derived by differencing adjacent cross-swath pixels. This method effectively isolates the noise component. The swath-averaged RMS noise is 0.84 cm for 2 meter significant wave height (SWH) and 3.50 cm for SWH = 6 m. The noise is also a function of wind speed, increasing from 0.67 cm at wind speed = 4 m s‚Åª¬π to 3.82 cm at 16 m s‚Åª¬π. We fit an empirical model to represent the noise as a smooth function of cross-swath distance and sea state, facilitating noise prediction at arbitrary conditions. Mapping segment-wise errors onto a 1¬∞ √ó 1¬∞ monthly grid reveals the largest values in the North Pacific, North Atlantic, and Southern Ocean storm-track regions, with clear seasonal cycles‚Äîpeaking in local winter and minimizing in local summer‚Äîlargely driven by seasonal SWH variations. Tropical errors remain comparatively low and weakly seasonal. Overall, KaRIn noise exhibits stable performance throughout the 21-month record, supporting robust analyses of ocean dynamics across 5‚Äì100 km scales."
            },
            {
                title: "Observations of Baroclinic Tides in the California Current from the SWOT Satellite Altimeter and In Situ Data",
                year: 2025,
                tags: ["SWOT", "Internal Waves"],
                authors: "Zaron, Waterhouse, Wang, Send, Lucas",
                journal: "JGR Oceans (revision submitted)",
                url: "",
                abstract: "This study combines SWOT satellite measurements with in situ data to observe baroclinic tides in the California Current, providing new insights into internal wave dynamics."
            },
            { 
                title: "Multi-satellite U-Net for high-resolution sea surface temperature reconstruction",
                year: 2025,
                tags: ["machine learning", "sea surface temperature"],
                authors: "Ellin Zhao, Edwin Goh, Alice Yepremyan, Jinbo Wang, and Brian Wilson",
                journal: "Ocean Science (submitted) EGUsphere preprint: https://doi.org/10.5194/egusphere-2025-4847",
                url: "https://doi.org/10.5194/egusphere-2025-4847",
                abstract: "We develop a multi-satellite U-Net deep learning approach for reconstructing high-resolution sea surface temperature fields, demonstrating improved accuracy over traditional interpolation methods."
            },
            {
                title: "SWOT Geostrophic Velocity Validation against in-situ measurements in the California Current",
                year: 2025,
                tags: ["Validation", "SWOT", "Ocean Currents"],
                authors: "Babette Tchonang, Jinbo Wang, Amy Frances Waterhouse, Andrew Lucas, Caeli Griffin, Matthew Robert Archer, Luke Kachelein, Matthias Lankhorst, Jeffrey Sevadjian, Lee-Lueng Fu",
                journal: "Earth and Space Science (revision submitted)",
                url: "",
                abstract: "This validation study compares SWOT-derived geostrophic velocities with in-situ measurements in the California Current, assessing the satellite's capability to measure ocean currents at fine scales."
            }
        ];

        let publications = [];
        
        // Toggle abstract visibility
        function toggleAbstract(key) {
            const abstractDiv = document.getElementById(`abstract-${key}`);
            const toggleLink = document.getElementById(`toggle-${key}`);
            
            if (abstractDiv.classList.contains('show')) {
                abstractDiv.classList.remove('show');
                toggleLink.textContent = '‚ñ∏ Read more';
            } else {
                abstractDiv.classList.add('show');
                toggleLink.textContent = '‚ñæ Hide abstract';
            }
        }
        
        // Load BibTeX file
        async function loadPublications() {
            try {
                console.log('Attempting to load publications.bib...');
                const response = await fetch('publications.bib');
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status} - Could not find publications.bib file`);
                }
                
                const bibtexText = await response.text();
                console.log('BibTeX file loaded successfully');
                
                // Check if BibtexParser is defined
                if (typeof BibtexParser === 'undefined') {
                    throw new Error('BibtexParser is not loaded. Make sure bibtex-parser.js is included.');
                }
                
                const parser = new BibtexParser();
                parser.parse(bibtexText);
                publications = parser.getFormattedPublications();
                
                console.log(`Parsed ${publications.length} publications`);
                
                if (publications.length === 0) {
                    throw new Error('No publications were parsed from the BibTeX file');
                }
                
                // Hide loading, show content
                document.getElementById('loading').style.display = 'none';
                document.getElementById('publications-content').style.display = 'block';
                
                // Populate dropdowns and display publications
                populateTagDropdown();
                populateYearDropdown();
                displaySubmittedPapers(submittedPapers);
                updatePublications();
            } catch (error) {
                console.error('Error loading publications:', error);
                document.getElementById('loading').style.display = 'none';
                const errorDiv = document.getElementById('error-message');
                errorDiv.style.display = 'block';
                errorDiv.innerHTML = `
                    <strong>Error loading publications:</strong> ${error.message}<br>
                    <small>Please check the browser console for more details.</small><br>
                    <small>Make sure publications.bib is in the same folder as publications.html and you're running a local web server.</small>
                `;
            }
        }
        
        // Function to populate tag dropdown dynamically
        function populateTagDropdown() {
            const tagSelect = document.getElementById('filter-by-tag');
            if (tagSelect) {
                const allTags = new Set();
                publications.forEach(pub => {
                    if (pub.tags) {
                        pub.tags.forEach(tag => allTags.add(tag));
                    }
                });
                
                const sortedTags = Array.from(allTags).sort();
                
                sortedTags.forEach(tag => {
                    const option = document.createElement('option');
                    option.value = tag;
                    option.textContent = tag;
                    tagSelect.appendChild(option);
                });
            }
        }
        
        // Function to populate year dropdown
        function populateYearDropdown() {
            const yearSelect = document.getElementById('filter-by-year');
            if (yearSelect) {
                const years = [...new Set(publications.map(pub => pub.year))].sort((a, b) => b - a);
                
                years.forEach(year => {
                    const option = document.createElement('option');
                    option.value = year;
                    option.textContent = year;
                    yearSelect.appendChild(option);
                });
            }
        }
        
        function displaySubmittedPapers(pubList) {
            const list = document.getElementById('submitted-papers-list');
            if (list) {
                list.innerHTML = '';
                pubList.forEach((pub, index) => {
                    const li = document.createElement('li');
                    li.className = 'publication-item';
                    
                    const key = `submitted-${index}`;
                    const titleHTML = pub.url 
                        ? `<a href="${pub.url}" target="_blank" rel="noopener noreferrer" class="publication-title">${pub.title}<span class="external-link-icon">üîó</span></a>`
                        : `<strong>${pub.title}</strong>`;
                    
                    li.innerHTML = `
                        ${pub.authors} - ${titleHTML} (${pub.year}), ${pub.journal}
                        <a class="abstract-toggle" id="toggle-${key}" onclick="toggleAbstract('${key}')">‚ñ∏ Read more</a>
                        <div class="abstract-content" id="abstract-${key}">
                            <strong>Abstract:</strong> ${pub.abstract}
                        </div>
                    `;
                    list.appendChild(li);
                });
            }
        }
        
        function displayPublications(pubList) {
            const list = document.getElementById('publication-list');
            if (list) {
                list.innerHTML = '';
                if (pubList.length === 0) {
                    list.innerHTML = '<li>No publications match the selected filters.</li>';
                    return;
                }
                pubList.forEach((pub) => {
                    const li = document.createElement('li');
                    li.className = 'publication-item';
                    
                    const key = pub.key || `pub-${Math.random().toString(36).substr(2, 9)}`;
                    const titleHTML = pub.url 
                        ? `<a href="${pub.url}" target="_blank" rel="noopener noreferrer" class="publication-title">${pub.title}<span class="external-link-icon">üîó</span></a>`
                        : `<strong>${pub.title}</strong>`;
                    
                    li.innerHTML = `
                        ${pub.authors} - ${titleHTML} (${pub.year}), ${pub.journal}
                        <a class="abstract-toggle" id="toggle-${key}" onclick="toggleAbstract('${key}')">‚ñ∏ Read more</a>
                        <div class="abstract-content" id="abstract-${key}">
                            <strong>Abstract:</strong> ${pub.abstract}
                        </div>
                    `;
                    list.appendChild(li);
                });
            }
        }
        
        function filterPublications(tag, year) {
            let filtered = [...publications];
            
            if (tag && tag !== '') {
                filtered = filtered.filter(pub => pub.tags && pub.tags.includes(tag));
            }
            
            if (year && year !== '') {
                filtered = filtered.filter(pub => pub.year === parseInt(year));
            }
            
            return filtered;
        }
        
        function updatePublications() {
            const sortBy = document.getElementById('sort-by')?.value;
            const filterTag = document.getElementById('filter-by-tag')?.value;
            const filterYear = document.getElementById('filter-by-year')?.value;
            
            let filteredPubs = filterPublications(filterTag, filterYear);
            
            if (sortBy === 'year-desc') {
                filteredPubs.sort((a, b) => b.year - a.year || a.title.localeCompare(b.title));
            } else if (sortBy === 'year-asc') {
                filteredPubs.sort((a, b) => a.year - b.year || a.title.localeCompare(b.title));
            } else if (sortBy === 'tags') {
                filteredPubs.sort((a, b) => {
                    const tagsA = (a.tags || []).join(', ');
                    const tagsB = (b.tags || []).join(', ');
                    return tagsA.localeCompare(tagsB) || b.year - a.year;
                });
            }
            
            displayPublications(filteredPubs);
        }
        
        // Load publications when page loads
        document.addEventListener('DOMContentLoaded', loadPublications);
    </script>
</body>
</html>
